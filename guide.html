<!doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="description" content="robocop.js : Define and validate rules, datatypes and schemata in Node and in the browser.">
	<meta name="author" content="Jason Dobry">
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <link rel="icon" href="img/favicon.png" type="image/x-icon">

	<link rel="stylesheet" type="text/css" media="screen" href="css/styles.min.css">
	<title>robocop.js</title>
</head>
<body data-spy="scroll" data-target="#sidebar" data-ember-extension="1" cz-shortcut-listen="true">
    <a href="https://github.com/jmdobry/robocop.js" id="github-ribbon">
        <img style="z-index: 2000; position: fixed; top: 0; right: 0; border: 0;" width="120" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub">
    </a>
	<div class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="brand" href="./">
					<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAAAyCAYAAACqGbz7AAAFDklEQVR42u2bS2sUQRDH/QK5esopBw8ePHgK+AlEchUPiqIgJCReRL1FyEkQFfGViAqalaAgiIggQQ/iIYIgCImal5hI8BGT+IiJJtm1Gmal0/SjerpntsX/D4rdzcxU1/y7Z7pqerJhAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAID0qNVqnWTnVKtWq5fp84jluA6yXrJNzHaayM6S9ZEdzBlPjyOePuW4Zmn7FrKL0rZLZHt8fJSkaZ/uWK6PksZFT5E6JD4e1lmoyKKBLzU3w+IC0hw/ITaSGDO67QYx64zljYfa+0of203xKHTVt2edpvp65uOjLE2ZDHN0L2pcmPohhg6Jj4d15BaaGjvl0dkiuLtKcM1kP6VdRhide0favxIYz0tHPILfZFulfV5oXJ3x8VGypt4+Qgnthxg6JD4e4lyEJud0Ip/oo59sXtPWqGZWqyr7PHZ08Hi9KbJ2ZjzXsjThPNl7n3jo+Clp+0ayOaWJNbI2ro9GaCqOFwMyu2svuHwEzoAx+iGGDimPh7/9Ube8Yt/UCDHhuMBGLbOaTL+rgynw73Id6YpH2q+tHhf5eMuI5760fSfZqqZTm7g+GqTpfR8fgRdhjH6IocM/Px44Kce4epMhO2bLlYkhhw/Z13FDPVjVpa6ueJQHO1eFOOJuxPBxNPCc1vlogKbe51DkuAjohxg6/FPjIU/KETtXFtP6bk49GFqHpVAPltU+fX9u81H0uEi9H1KLw/WEUk0HJkNzZU3+/kMO2FIP5q7DEqoHi9JU9tFC9kuJ7zt3eShUw0bqkEocso9QsXV57mCEXLlmKKSbHfVgcN6dQD1YlKaD2bYDykOIOlci1oNF9cNgWf1QVn8UkfdzGArwIdaBdnnWg12G4rzOrcTrwaI1FbH1Rl6aCK5/CtIhlTh0nI72CJqBKVdeFFM0c9D41IObyd5Z/F1IvB4M0ZS7LjZQ8NJEjDoshg6pxKEb0+2x6sFl6tBX4g2WzGoeufKImMKzqZx7B2fVg/T1kXjs7BlPKvVgiKbrfCgaLJOtZN9/Kml9R5ZirTDso/L6VlF1WLAOqcSh+hAvB+R5nVGb58pvK9DPbZ65ciX7WyvZEuPu7VUP5ogniXowUFOdjweGervJto+lH6bLqAdj6JBKHNHeTIpcO6mz2n715DSMFBhPSuuDUdun79cZPgbIPtPfP9iM9pklu1FCHdaQdbn/an1Q93icfp90XIQV5ZF70LpYJB//+/pgSy2NdblU4ih3fTCwdhox3IkGmPXgPs3MOamIseiIJ4aPqPVg7HqU4yNwXFg1VN5OEbXQLH2+9qkpmTqkEkdwXVrmWlrF0tYTVz1o+DeSKWn7Q028k8oFr/MxY4tD9WHQ5XYq65McH4ElilVDab97eWtKzjmkEkfIeGhoPWho742tHsxqyDVNm+JONW+YTbu5Pqj9b4bZ+LBrPSg7dlR6mjaWPaU8lGJNG3hzNmm4IJ3/nBJfd+xzSCWOkPEQnPf75Oyc16XE1K8sXVTU7ZrUwMZjXRuePm4xdLHRXZSmeX1EuAh9NXwae2ylEkfIeOAIvUOTb8v/XiLW+qYdubLsY5jZbmt2wWpnzqxmG7Oc5Gp2Z+p0FOMuH2JW3svUxcSS0qGxNc3lI+Ji/Zjj/MXT1RNFjK1U4ggZDwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAG8Ac7NumYSaPNAQAAAABJRU5ErkJggg==" alt="robocop.js" width="225" height="50">
				</a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav pull-right">
                    <li class="">
                        <a href="./">Home</a>
                    </li>
                    <li class="">
                        <a href="installation.html">Installation</a>
                    </li>
                    <li class="active">
                        <a href="guide.html">Guide</a>
                    </li>
                    <li class="">
                        <a href="playground.html">Playground</a>
                    </li>
                    <li class="">
                        <a href="api.html">API</a>
                    </li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
						<ul class="dropdown-menu">
							<li>
							    <a href="https://groups.google.com/forum/#!forum/robocop.js">
							    <i class="glyphicon glyphicon-envelope"></i> Mailing List
							    </a>
                            </li>
							<li class="divider"></li>
							<li><a href="https://github.com/jmdobry/robocop.js/issues?state=open">Issues</a></li>
							<li><a href="https://github.com/jmdobry/robocop.js">GitHub</a></li>
						</ul>
					</li>
				</ul>
			</div><!--/.nav-collapse -->
		</div>
	</div>
	<header class="jumbotron subhead" id="overview">
		<div class="container">
			<h1>Guide</h1>
			<p class="lead">Learn how to use angular-cache and read about common usage patterns.</p>
		</div>
	</header>
	<div class="container">
        
        
        
        
            
        
            
        
            
        
            
        
            
        
        

		<!-- Docs nav
		================================================== -->
		<div class="row">
			<div class="col-md-3" id="sidebar">
				<ul class="list-group nav" id="sidenav">
				    
                        
                            <li class="list-group-item active">
                                <a href="#basics"><i class="glyphicon glyphicon-chevron-right"></i> Basics</a>
                            </li>
                        
                    
                        
                            <li class="list-group-item ">
                                <a href="#http"><i class="glyphicon glyphicon-chevron-right"></i> Angular-cache w/$http</a>
                            </li>
                        
                    
                        
                            <li class="list-group-item ">
                                <a href="#storage"><i class="glyphicon glyphicon-chevron-right"></i> Angular-cache w/Web Storage</a>
                            </li>
                        
                    
                        
                            <li class="list-group-item ">
                                <a href="#configure"><i class="glyphicon glyphicon-chevron-right"></i> Configure a cache</a>
                            </li>
                        
                    
				</ul>
			</div>
			<div class="col-md-9">
				
				    
				        <section id="basics">
                            <div class="page-header"><h1>Basics</h1></div>
                            <h2 id="create-a-cache">Create a cache</h2>
<p>First, inject <code>$angularCacheFactory</code> then create as many caches as you so desire. Let&#39;s go:</p>
<pre class="highlighted"><code class="javascript">app.service(<span class="string">'myService'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($angularCacheFactory)</span> {</span>

    <span class="comment">// Create a new cache called "profileCache"</span>
    <span class="keyword">var</span> profileCache = $angularCacheFactory(<span class="string">'profileCache'</span>);
});</code></pre>
<p>Let&#39;s add some items to the cache:</p>
<pre class="highlighted"><code class="javascript">profileCache.put(<span class="string">'/profiles/34'</span>, {
    name: <span class="string">'John'</span>,
    skills: [<span class="string">'programming'</span>, <span class="string">'piano'</span>]
});

profileCache.put(<span class="string">'/profiles/22'</span>, {
    name: <span class="string">'Sally'</span>,
    skills: [<span class="string">'marketing'</span>, <span class="string">'climbing'</span>, <span class="string">'painting'</span>]
});</code></pre>
<p>Right now, these items will stay in the cache indefinitely. What if, for the sake of the example, I know that users change their skills in their profile once a week. The profile information is subject to change, but we don&#39;t want to make tons of requests for profiles that probably haven&#39;t changed.</p>
<p>Let&#39;s have items which are added to <code>profileCache</code> expire after an hour:</p>
<pre class="highlighted"><code class="javascript">profileCache.setOptions({
    maxAge: <span class="number">3600000</span>
});</code></pre>
<p>Perfect. Say we also want the items removed from the cache when they expire:</p>
<pre class="highlighted"><code class="javascript">profileCache.setOptions({
    deleteOnExpire: <span class="string">'aggressive'</span>
});</code></pre>
<p>Let&#39;s say that when the items do expire, we want to refresh them with new values:</p>
<pre class="highlighted"><code class="javascript">profileCache.setOptions({
    onExpire: <span class="function"><span class="keyword">function</span> <span class="params">(key, value)</span> {</span>
        $http.get(key).success(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
            profileCache.put(key, data);
        });
    }
});</code></pre>
<p>Sweet! Now we&#39;d probably have configured our cache correctly when we created it:</p>
<pre class="highlighted"><code class="javascript"><span class="keyword">var</span> profileCache = $angularCacheFactory(<span class="string">'profileCache'</span>, {
    maxAge: <span class="number">3600000</span>,
    deleteOnExpire: <span class="string">'aggressive'</span>,
    onExpire: <span class="function"><span class="keyword">function</span> <span class="params">(key, value)</span> {</span>
        $http.get(key).success(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
            profileCache.put(key, data);
        });
    }
});</code></pre>
<p>Or say we want all of our caches to use that configuration as their default:</p>
<pre class="highlighted"><code class="javascript">angular.module(<span class="string">'app'</span>, [<span class="string">'jmdobry.angular-cache'</span>])
    .config(<span class="function"><span class="keyword">function</span> <span class="params">($angularCacheFactoryProvider)</span> {</span>

        $angularCacheFactoryProvider.setCacheDefaults({
            maxAge: <span class="number">3600000</span>,
                deleteOnExpire: <span class="string">'aggressive'</span>,
                onExpire: <span class="function"><span class="keyword">function</span> <span class="params">(key, value)</span> {</span>
                    $http.get(key).success(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
                        profileCache.put(key, data);
                    });
                }
        });
    });</code></pre>
<h2 id="working-with-a-cache">Working with a cache</h2>
<p>We can retrieve items from a cache like so:</p>
<pre class="highlighted"><code class="javascript"><span class="keyword">var</span> profile = profileCache.get(<span class="string">'/profiles/34'</span>);

profile.name; <span class="comment">// 'John'</span></code></pre>
<p>And get information about items in the cache:</p>
<pre class="highlighted"><code class="javascript"><span class="keyword">var</span> info = profileCache.info(<span class="string">'/profiles/34'</span>);

info.isExpired; <span class="comment">// false</span>
<span class="comment">// etc.</span></code></pre>
<p>and information about the cache itself:</p>
<pre class="highlighted"><code class="javascript"><span class="keyword">var</span> info = profileCache.info();

info.size; <span class="comment">// 2</span>
info.maxAge; <span class="comment">// 3600000</span>
info.deleteOnExpire; <span class="comment">// 'aggressive'</span>
<span class="comment">// etc.</span></code></pre>
<p>Items are easily removed, and we can destroy out cache when we&#39;re done with it:</p>
<pre class="highlighted"><code class="javascript">profileCache.remove(<span class="string">'/profiles/34'</span>);

profileCache.get(<span class="string">'/profiles/34'</span>); <span class="comment">// undefined</span>

profileCache.destroy();

$angularCacheFactory.get(<span class="string">'profileCache'</span>); <span class="comment">// undefined</span></code></pre>
<p>See the <a href="api.html">API Documentation</a> for more information on the available methods.</p>

                        </section>
                    
                
				    
				        <section id="http">
                            <div class="page-header"><h1>Angular-cache w/$http</h1></div>
                            <h4 id="using-angular-cache-with-http">Using angular-cache with $http</h4>
<p><strong>Note</strong> The downside of letting $http handle caching for you is that it caches the responses (in string form) to your requests–not the JavaScript Object parsed from the response body. This means you can&#39;t interact with the data in the cache used by <code>$http</code>. See below for how to handle the caching yourself–giving you more control and the ability to interact with the cache (use it as a data store).</p>
<p>Configure <code>$http</code> to use a cache created by <code>$angularCacheFactory</code> by default:</p>
<pre class="highlighted"><code class="javascript">app.run(<span class="function"><span class="keyword">function</span> <span class="params">($http, $angularCacheFactory)</span> {</span>

    $angularCacheFactory(<span class="string">'defaultCache'</span>, {
        maxAge: <span class="number">900000</span>, <span class="comment">// Items added to this cache expire after 15 minutes.</span>
        cacheFlushInterval: <span class="number">6000000</span>, <span class="comment">// This cache will clear itself every hour.</span>
        deleteOnExpire: <span class="string">'aggressive'</span> <span class="comment">// Items will be deleted from this cache right when they expire.</span>
    });

    $http.defaults.cache = $angularCacheFactory.get(<span class="string">'defaultCache'</span>);
});

app.service(<span class="string">'myService'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($http)</span> {</span>
    <span class="keyword">return</span> {
        getDataById: <span class="function"><span class="keyword">function</span> <span class="params">(id)</span> {</span>
            <span class="keyword">var</span> deferred = $q.defer(),
                start = <span class="keyword">new</span> Date().getTime();

            $http.get(<span class="string">'api/data/'</span> + id, {
                cache: <span class="literal">true</span>
            }).success(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
                console.log(<span class="string">'time taken for request: '</span> + (<span class="keyword">new</span> Date().getTime() - start) + <span class="string">'ms'</span>);
                deferred.resolved(data);
            });
            <span class="keyword">return</span> deferred.promise;
        }
    };
});

app.controller(<span class="string">'myCtrl'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(myService)</span> {</span>
    myService.getDataById(<span class="number">1</span>)
        .then(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
            <span class="comment">// e.g. "time taken for request: 2375ms"</span>
            <span class="comment">// Data returned by this next call is already cached.</span>
            myService.getDataById(<span class="number">1</span>)
                .then(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
                    <span class="comment">// e.g. "time taken for request: 1ms"</span>
                });
        });
});</code></pre>
<p>Tell <code>$http</code> to use a cache created by <code>$angularCacheFactory</code> for a specific request:</p>
<pre class="highlighted"><code class="javascript">app.service(<span class="string">'myService'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($http, $angularCacheFactory)</span> {</span>

    $angularCacheFactory(<span class="string">'dataCache'</span>, {
        maxAge: <span class="number">90000</span>, <span class="comment">// Items added to this cache expire after 15 minutes.</span>
        cacheFlushInterval: <span class="number">600000</span>, <span class="comment">// This cache will clear itself every hour.</span>
        deleteOnExpire: <span class="string">'aggressive'</span> <span class="comment">// Items will be deleted from this cache right when they expire.</span>
    });

    <span class="keyword">return</span> {
        getDataById: <span class="function"><span class="keyword">function</span> <span class="params">(id)</span> {</span>
            <span class="keyword">var</span> deferred = $q.defer(),
                start = <span class="keyword">new</span> Date().getTime();

            $http.get(<span class="string">'api/data/'</span> + id, {
                cache: $angularCacheFactory.get(<span class="string">'dataCache'</span>)
            }).success(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
                console.log(<span class="string">'time taken for request: '</span> + (<span class="keyword">new</span> Date().getTime() - start) + <span class="string">'ms'</span>);
                deferred.resolved(data);
            });
            <span class="keyword">return</span> deferred.promise;
        }
    };
});

app.controller(<span class="string">'myCtrl'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(myService)</span> {</span>
    myService.getDataById(<span class="number">1</span>)
        .then(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
            <span class="comment">// e.g. "time taken for request: 2375ms"</span>
            <span class="comment">// Data returned by this next call is already cached.</span>
            myService.getDataById(<span class="number">1</span>)
                .then(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
                    <span class="comment">// e.g. "time taken for request: 1ms"</span>
                });
        });
});</code></pre>
<p>Do your own caching while using the $http service:</p>
<pre class="highlighted"><code class="javascript">app.service(<span class="string">'myService'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($http, $angularCacheFactory)</span> {</span>

    $angularCacheFactory(<span class="string">'dataCache'</span>, {
        maxAge: <span class="number">900000</span>, <span class="comment">// Items added to this cache expire after 15 minutes.</span>
        cacheFlushInterval: <span class="number">3600000</span>, <span class="comment">// This cache will clear itself every hour.</span>
        deleteOnExpire: <span class="string">'aggressive'</span> <span class="comment">// Items will be deleted from this cache right when they expire.</span>
    });

    <span class="keyword">return</span> {
        getDataById: <span class="function"><span class="keyword">function</span> <span class="params">(id)</span> {</span>
            <span class="keyword">var</span> deferred = $q.defer(),
                start = <span class="keyword">new</span> Date().getTime(),
                dataCache = $angularCacheFactory.get(<span class="string">'dataCache'</span>);

            <span class="comment">// Now that control of inserting/removing from the cache is in our hands,</span>
            <span class="comment">// we can interact with the data in "dataCache" outside of this context,</span>
            <span class="comment">// e.g. Modify the data after it has been returned from the server and</span>
            <span class="comment">// save those modifications to the cache.</span>
            <span class="keyword">if</span> (dataCache.get(id)) {
                deferred.resolve(dataCache.get(id));
            } <span class="keyword">else</span> {
                $http.get(<span class="string">'api/data/'</span> + id).success(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
                        console.log(<span class="string">'time taken for request: '</span> + (<span class="keyword">new</span> Date().getTime() - start) + <span class="string">'ms'</span>);
                        deferred.resolved(data);
                    });
            }
            <span class="keyword">return</span> deferred.promise;
        }
    };
});

app.controller(<span class="string">'myCtrl'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(myService)</span> {</span>
    myService.getDataById(<span class="number">1</span>)
        .then(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
            <span class="comment">// e.g. "time taken for request: 2375ms"</span>
            <span class="comment">// Data returned by this next call is already cached.</span>
            myService.getDataById(<span class="number">1</span>)
                .then(<span class="function"><span class="keyword">function</span> <span class="params">(data)</span> {</span>
                    <span class="comment">// e.g. "time taken for request: 1ms"</span>
                });
        });
});</code></pre>

                        </section>
                    
                
				    
				        <section id="storage">
                            <div class="page-header"><h1>Angular-cache w/Web Storage</h1></div>
                            <h4 id="using-angular-cache-with-localstorage-or-sessionstorage-">Using angular-cache with localStorage (or sessionStorage)</h4>
<p>Using angular-cache in browsers that support localStorage:</p>
<pre class="highlighted"><code class="javascript">app.service(<span class="string">'myService'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($angularCacheFactory)</span> {</span>

    <span class="comment">// This cache will sync itself with localStorage if it exists, otherwise it won't. Every time the</span>
    <span class="comment">// browser loads this app, this cache will attempt to initialize itself with any data it had</span>
    <span class="comment">// already saved to localStorage (or sessionStorage if you used that).</span>
    <span class="keyword">var</span> myAwesomeCache = $angularCacheFactory(<span class="string">'myAwesomeCache'</span>, {
        maxAge: <span class="number">900000</span>, <span class="comment">// Items added to this cache expire after 15 minutes.</span>
        cacheFlushInterval: <span class="number">3600000</span>, <span class="comment">// This cache will clear itself every hour.</span>
        deleteOnExpire: <span class="string">'aggressive'</span>, <span class="comment">// Items will be deleted from this cache right when they expire.</span>
        storageMode: <span class="string">'localStorage'</span> <span class="comment">// This cache will sync itself with `localStorage`.</span>
    });
});</code></pre>
<p>Using angular-cache in browsers that DON&#39;T support localStorage:</p>
<p>Option 1 - Do nothing (the localStorage sync feature will be disabled)</p>
<p>Option 2 - Create/use a polyfill that provides the global <code>localStorage</code> and <code>sessionStorage</code> objects. angular-cache will attempt to use these if it finds them.</p>
<p>Option 3 - Tell angular-cache exactly which polyfill to use (also useful if you just want to use your own implementation/wrapper for localStorage):</p>
<pre class="highlighted"><code class="javascript">app.service(<span class="string">'myService'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($angularCacheFactory)</span> {</span>

    <span class="keyword">var</span> localStoragePolyfill = {
        getItem: <span class="function"><span class="keyword">function</span> <span class="params">(key)</span> {</span> ... },
        setItem: <span class="function"><span class="keyword">function</span> <span class="params">(key, value)</span> {</span> ... },
        removeItem: <span class="function"><span class="keyword">function</span> <span class="params">(key)</span> {</span> ... }
    };

    <span class="comment">// Always use the polyfill</span>
    <span class="keyword">var</span> myAwesomeCache = $angularCacheFactory(<span class="string">'myAwesomeCache'</span>, {
        maxAge: <span class="number">900000</span>, <span class="comment">// Items added to this cache expire after 15 minutes.</span>
        cacheFlushInterval: <span class="number">3600000</span>, <span class="comment">// This cache will clear itself every hour.</span>
        deleteOnExpire: <span class="string">'aggressive'</span>, <span class="comment">// Items will be deleted from this cache right when they expire.</span>
        storageMode: <span class="string">'localStorage'</span>, <span class="comment">// This cache will sync itself with `localStorage`.</span>
        storageImpl: localStoragePolyfill <span class="comment">// angular-cache will use this polyfill instead of looking for localStorage</span>
    });

    <span class="comment">// Conditionally use the polyfill</span>
    <span class="keyword">var</span> options = {
        maxAge: <span class="number">900000</span>, <span class="comment">// Items added to this cache expire after 15 minutes.</span>
        cacheFlushInterval: <span class="number">3600000</span>, <span class="comment">// This cache will clear itself every hour.</span>
        deleteOnExpire: <span class="string">'aggressive'</span>, <span class="comment">// Items will be deleted from this cache right when they expire.</span>
        storageMode: <span class="string">'localStorage'</span> <span class="comment">// This cache will sync itself with `localStorage`.</span>
    };
    <span class="keyword">if</span> (!window.localStorage) {
        options.storageImpl = localStoragePolyfill;
    }
    <span class="keyword">var</span> myAwesomeCache = $angularCacheFactory(<span class="string">'myAwesomeCache'</span>, options);
});</code></pre>
<p>Documentation on the interface that must be implemented by any <code>storageImpl</code> polyfill used by angular-cache can be found on the <a href="http://www.w3.org/TR/2013/REC-webstorage-20130730/">W3C Recommendation</a> page for webstorage. The interface itself looks like:</p>
<pre class="highlighted"><code class="java"><span class="class"><span class="keyword">interface</span> <span class="title">Storage</span> {</span>
  readonly attribute unsigned <span class="keyword">long</span> length;
  DOMString? key(unsigned <span class="keyword">long</span> index);
  getter DOMString getItem(DOMString key);
  setter creator <span class="keyword">void</span> setItem(DOMString key, DOMString value);
  deleter <span class="keyword">void</span> removeItem(DOMString key);
  <span class="keyword">void</span> clear();
};</code></pre>
<p>angular-cache cares only about these three methods:</p>
<ul>
<li><a href="http://www.w3.org/TR/2013/REC-webstorage-20130730/#dom-storage-setitem">setItem</a></li>
<li><a href="http://www.w3.org/TR/2013/REC-webstorage-20130730/#dom-storage-getitem">getItem</a></li>
<li><a href="http://www.w3.org/TR/2013/REC-webstorage-20130730/#dom-storage-removeitem">removeItem</a></li>
</ul>
<p>One developer suggested using <a href="https://github.com/marcuswestin/store.js/">store.js</a>–a wrapper and polyfill for localStorage. However, store.js has its own API that doesn&#39;t match that of the webstorage spec, so if you want to use store.js or any other 3rd-party polyfill then you&#39;ll need to create a wrapper for it if it doesn&#39;t have the same API as <code>localStorage</code>. For example:</p>
<pre class="highlighted"><code class="javascript"><span class="keyword">var</span> storeJsToStandard {
  getItem: store.get,
  setItem: store.set,
  removeItem: store.remove
};

$angularCacheFactory(<span class="string">'myNewCache'</span>, {
  storageMode: <span class="string">'localStorage'</span>,
  storageImpl: storeJsToStandard
});</code></pre>

                        </section>
                    
                
				    
				        <section id="configure">
                            <div class="page-header"><h1>Configure a cache</h1></div>
                            <p>See <a href="configuration.html">Configuration Options</a> for information on the available configuration options.</p>
<h4 id="dynamically-configure-a-cache">Dynamically configure a cache</h4>
<pre class="highlighted"><code class="javascript">app.service(<span class="string">'myService'</span>, <span class="function"><span class="keyword">function</span> <span class="params">($angularCacheFactory)</span> {</span>

    <span class="keyword">var</span> cache = $angularCacheFactory(<span class="string">'cache'</span>, {
        capacity: <span class="number">100</span>,
        maxAge: <span class="number">300000</span>
    });

    <span class="comment">// Add 50 items here, for example</span>

    cache.info(); <span class="comment">// { ..., size: 50, capacity: 100, maxAge: 300000, ... }</span>

    cache.setOptions({
        capacity: <span class="number">30</span>
    });

    cache.info(); <span class="comment">// { ..., size: 30, capacity: 30, maxAge: 300000, ... }</span>
    <span class="comment">// notice that only the 30 most recently added items remain in the cache because</span>
    <span class="comment">// the capacity was reduced.</span>

    <span class="comment">// setting the second parameter to true will cause the cache's configuration to be</span>
    <span class="comment">// reset to defaults before the configuration passed into setOptions() is applied to</span>
    <span class="comment">// the cache</span>
    cache.setOptions({
        cacheFlushInterval: <span class="number">5500</span>
    }, <span class="literal">true</span>);

    cache.info(); <span class="comment">// { ..., size: 30, cacheFlushInterval: 5500,</span>
                  <span class="comment">//   capacity: 1.7976931348623157e+308, maxAge: null, ... }</span>

    cache.put(<span class="string">'someItem'</span>, <span class="string">'someValue'</span>, { maxAge: <span class="number">12000</span>, deleteOnExpire: <span class="string">'aggressive'</span> });
    cache.info(<span class="string">'someItem'</span>); <span class="comment">// { maxAge: 12000, deleteOnExpire: 'aggressive', isExpired: false, ... }</span>
});</code></pre>
<p>See <a href="api.html#cachesetoptions">AngularCache.setOptions(options)</a>.</p>

                        </section>
                    
                
			</div>
		</div>
		<div class="row">
		    <div class="col-md-3"></div>
		    <div class="col-md-9">
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                    var disqus_shortname = 'robocopjs'; // required: replace example with your forum shortname

                    /* * * DON'T EDIT BELOW THIS LINE * * */
                    (function() {
                        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
            </div>
		</div>
	</div>
	<footer id="footer-main" class="navbar navbar-default">
        <div class="container">
            <ul class="nav navbar-nav row">
                <li class="col-lg-3">
                    <a href="http://www.pseudobry.com/">© 2013 Jason Dobry</a>
                </li>
                <li class="col-lg-2">
                    <a href="https://github.com/jmdobry/robocop.js/blob/master/LICENSE">MIT Licensed</a>
                </li>
                <li class="col-lg-4">
                    <span class="footer-button"><iframe src="http://ghbtns.com/github-btn.html?user=jmdobry&repo=robocop.js&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe></span>
                    <span class="footer-button"><iframe src="http://ghbtns.com/github-btn.html?user=jmdobry&repo=robocop.js&type=fork&count=true"allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe></span>
                </li>
                <li class="col-lg-3 pull-right">
                    <a href="JavaScript:void(0)" onclick="window.scrollTo(0, 0);" class="pull-right" style="margin-right: 30px;">
                        <span class="glyphicon glyphicon-arrow-up"></span>&nbsp;&nbsp;Back to top
                    </a>
                </li>
            </ul>
        </div>
    </footer>
	<script src="js/scripts.js"></script>
	<script>
		$(document).ready(function(){
			$('#sidenav').affix({
				offset: {
					top: function () { return $(window).width() <= 768 ? 290 : 154 },
			  		bottom: 0
				}
			})
		});
	</script>
	<script type="text/javascript">
      var analytics=analytics||[];(function(){var e=["identify","track","trackLink","trackForm","trackClick","trackSubmit","page","pageview","ab","alias","ready","group","on","once","off"],t=function(e){return function(){analytics.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var n=0;n<e.length;n++)analytics[e[n]]=t(e[n])})(),analytics.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)};
      analytics.load("5e2vnbkf6h");
      analytics.page();
    </script>
</body>
</html>
